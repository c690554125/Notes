# 缓存

顾名思义，请求的资源在第一次拿到后（缓存到内存或硬盘中），如果没有变化或一段时间内，我们可以从硬盘或内存中获取，不用再次发起 HTTP 请求（节约资源，加载资源减少页面展示速度会快）

## 可缓存性

`Cache-Control`可以控制缓存的行为。

### 浏览器端常见的

**public**：允许客户端，代理服务器，转发服务器等等使用缓存

**priviate**：只允许发起请求的客户端使用缓存，中间的代理服务器，cdn等不允许他们对资源进行缓存

**no-cache**：如果某个资源的`Cache-Control`有设置`no-cache`，那客户端在使用缓存资源之前，每次都需要先向服务器发起请求确认资源是否有变化，即便设置了`max-age`。如果资源有变化，那就会返回最新的资源。如果无变化，则会在max-age的有效期内继续使用缓存。通常会配合`Etag`，`Last-Modifield`

**max-age**：值是秒数。缓存的最长有效期。浏览器如果发现某个资源的`Cache-Control`配置了该值（无`no-cache`，`no-store`的情况），就会在`max-age`限定的时间（秒）内使用缓存资源，即便资源发生改变，但URL不变，也不会从服务器请求更改的资源。所以通常的一个解决办法就是通过增加资源的`hash`值，改变URL使得浏览器重新加载资源。


### 不常用
**max-stale**：值是秒数。如果上面 2 个已经过期了，但是这个没过期，还是允许使用旧的缓存，无需去源服务器获取新资源。该头只在发起方有用，而浏览器端通常不能设置请求头，所以对浏览器来说作用不大。

**must-revalidate**：不能直接使用缓存，必须向源服务器确认一下是否真的过期了。

**proxy-revalidate**：针对缓存服务器.

**no-store**这才应该被叫做不准缓存，不允许客户端，缓存服务器缓存资源。每次都必须发送 HTTP 请求获取完整的信息。

**no-transform** 告诉代理服务器，不要对资源进行转换。

**s-maxage**：值是秒数。只会在代理服务器中才会替代**max-age**。

# 浏览器获取资源的大致路径
```flow

```

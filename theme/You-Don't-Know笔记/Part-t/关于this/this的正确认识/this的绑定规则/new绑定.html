<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<p>传统的面向对象的语言中，构造函数是类中的特殊方法，当使用new操作符来实例化这个类时，构造函数就被调用了看起来就是something = new MyClass();</p>

	<p>JS也有一个new操作符，使用方法跟传统的面向对象的语言一样，大多数人也认为js中的new机制和那些语言一样，然而，js中的new机制实际上和面向类的语言完全不同。</p>

	<p>首先定义下JS中的构造函数：JS中，通过new操作符被调用的函数称为构造函数，并不属于某个类，也不会实例化一个类，实际上，就是被new劫持调用而已</p>

	<p>包括内建对象函数在内的所有函数都可以通过new来调用，这种函数调用被称为构造函数调用，实际上，并不存在所谓的构造函数，只是对于函数的构造调用而已。</p>

	<p>使用new来调用函数，或者说是构造调用，会自动执行以下操作：</p>
	<ul>
		<li>创建出一个全新全新的对象。</li>
		<li>这个新对象会执行[[prototype]]链接。</li>
		<li>这个新的构造对象会绑定到函数调用时的this</li>
		<!-- 猜测意思是，函数调用时的this，会绑定这个新的构造对象 -->
		<li>除非函数返回它自己替代的对象，那么这个new表达式中的函数调用会自动返回这个新对象</li>
	</ul>
	<script>
		function foo(a){
			this.a = a;
		}
		var bar = new foo(3);
		console.log(bar.a);
		// 用new来调用foo()时，会构造一个新对象，这里就是bar，然后会绑定构造函数中的this，这里就是foo()调用中的this，new是最后一个影响函数调用时this绑定行为的方法。
	</script>
</body>
</html>